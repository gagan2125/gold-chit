import{p as v,r as o,j as t,b as y}from"./index-CVU8XVJV.js";import{a as R,h as A,E as w}from"./html2canvas.esm-BgxggYRd.js";const S=()=>{var a,x,p,h,g,j,u,m;const{id:l}=v(),[e,n]=o.useState({});o.useEffect(()=>{(async()=>{try{const i=await y.get(`/payment/get-payment-by-id/${l}`);i.data?(console.log(i.data),n(i.data)):n({})}catch(i){console.error("Error fetching payment data:",i),n({})}})()},[l]),o.useEffect(()=>{console.log(e)},[e]);const c=s=>{const i=new Date(s),d={day:"numeric",month:"short",year:"numeric"};return i.toLocaleDateString("en-US",d)},b=async()=>{const s=document.getElementById("receipt"),d=(await A(s,{scale:2})).toDataURL("image/png"),r=new w("portrait","mm","a4"),f=r.internal.pageSize.getWidth(),_=r.internal.pageSize.getHeight();r.addImage(d,"PNG",0,0,f,_),r.save("Receipt.pdf")};return t.jsxs("div",{align:"center",style:{marginTop:"80px"},children:[t.jsx("button",{onClick:b,className:"border border-blue-400 text-white px-4 py-2 mb-5 rounded-md shadow hover:border-blue-700 transition duration-200 mt-4",children:t.jsx(R,{color:"blue"})}),t.jsxs("div",{id:"receipt",style:{width:"210mm",height:"297mm",padding:"10mm",border:"1px solid #ddd",backgroundColor:"#fff",display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"10mm"},children:[t.jsxs("div",{style:{width:"48%",border:"1px solid #ddd",borderRadius:"8px",padding:"15px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)"},children:[t.jsx("h2",{style:{textAlign:"center",margin:0},children:"MY CHITS"}),t.jsxs("p",{style:{textAlign:"center",fontSize:"12px",margin:"5px 0"},children:["No.11/36-25, 2nd Main, Kathriguppe Main Road,",t.jsx("br",{}),"Bangalore, 560085 9483900777"]}),t.jsx("hr",{}),t.jsx("h3",{style:{textAlign:"center",margin:"5px 0"},children:"Receipt"}),t.jsxs("div",{style:{textAlign:"start"},children:[t.jsxs("p",{children:["Receipt No: ",e.receipt_no?e.receipt_no:e.old_receipt_no]}),t.jsxs("p",{children:["Date: ",c(e.pay_date)]}),t.jsx("div",{style:{marginTop:"4px"}}),t.jsxs("p",{children:["Name: ",(a=e==null?void 0:e.user_id)==null?void 0:a.full_name]}),t.jsxs("p",{children:["Mobile No: ",(x=e==null?void 0:e.user_id)==null?void 0:x.phone_number]}),t.jsx("div",{style:{marginTop:"4px"}}),t.jsxs("p",{children:["Group: ",(p=e==null?void 0:e.group_id)==null?void 0:p.group_name]}),t.jsxs("p",{children:["Ticket: ",e==null?void 0:e.ticket]})]}),t.jsxs("div",{style:{textAlign:"center",fontWeight:"bold",border:"1px solid #000",padding:"10px",margin:"10px 0"},children:["Received Amount | Rs.",e==null?void 0:e.amount]}),t.jsxs("div",{style:{textAlign:"start"},children:[t.jsxs("p",{children:["Mode: ",e==null?void 0:e.pay_type]}),t.jsxs("p",{children:["Total: Rs.",e==null?void 0:e.amount]}),t.jsxs("p",{children:["Collected by: ",((h=e==null?void 0:e.collected_by)==null?void 0:h.name)||"Admin"]})]}),t.jsx("div",{style:{marginTop:"4px"}}),t.jsx("p",{children:"Customer Copy"})]}),t.jsxs("div",{style:{width:"48%",border:"1px solid #ddd",borderRadius:"8px",padding:"15px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)"},children:[t.jsx("h2",{style:{textAlign:"center",margin:0},children:"MY CHITS"}),t.jsxs("p",{style:{textAlign:"center",fontSize:"12px",margin:"5px 0"},children:["No.11/36-25, 2nd Main, Kathriguppe Main Road,",t.jsx("br",{}),"Bangalore, 560085 9483900777"]}),t.jsx("hr",{}),t.jsx("h3",{style:{textAlign:"center",margin:"5px 0"},children:"Receipt"}),t.jsxs("div",{style:{textAlign:"start"},children:[t.jsxs("p",{children:["Receipt No: ",e.receipt_no?e.receipt_no:e.old_receipt_no]}),t.jsxs("p",{children:["Date: ",c(e.pay_date)]}),t.jsx("div",{style:{marginTop:"4px"}}),t.jsxs("p",{children:["Name: ",(g=e==null?void 0:e.user_id)==null?void 0:g.full_name]}),t.jsxs("p",{children:["Mobile No: ",(j=e==null?void 0:e.user_id)==null?void 0:j.phone_number]}),t.jsx("div",{style:{marginTop:"4px"}}),t.jsxs("p",{children:["Group: ",(u=e==null?void 0:e.group_id)==null?void 0:u.group_name]}),t.jsxs("p",{children:["Ticket: ",e==null?void 0:e.ticket]})]}),t.jsxs("div",{style:{textAlign:"center",fontWeight:"bold",border:"1px solid #000",padding:"10px",margin:"10px 0"},children:["Received Amount | Rs.",e==null?void 0:e.amount]}),t.jsxs("div",{style:{textAlign:"start"},children:[t.jsxs("p",{children:["Mode: ",e==null?void 0:e.pay_type]}),t.jsxs("p",{children:["Total: Rs.",e==null?void 0:e.amount]}),t.jsxs("p",{children:["Collected by: ",((m=e==null?void 0:e.collected_by)==null?void 0:m.name)||"Admin"]})]}),t.jsx("div",{style:{marginTop:"4px"}}),t.jsx("p",{children:"Admin Copy"})]})]})]})};export{S as default};
