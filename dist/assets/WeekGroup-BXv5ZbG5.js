import{r as d,j as e,S as T,m as B,n as V,c as b,b as i}from"./index-CVU8XVJV.js";const I=()=>{const[N,_]=d.useState([]),[h,w]=d.useState(""),[v,c]=d.useState(!1),[G,x]=d.useState(!1),[k,g]=d.useState(!1),[m,p]=d.useState(null),[C,E]=d.useState(null),[a,f]=d.useState({group_name:"",group_type:"",group_method:"week",group_value:"",group_install:"",group_members:"",group_duration:"",start_date:"",end_date:"",minimum_bid:"",maximum_bid:"",commission:5}),[s,y]=d.useState({group_name:"",group_type:"",group_method:"week",group_value:"",group_install:"",group_members:"",group_duration:"",start_date:"",end_date:"",minimum_bid:"",maximum_bid:"",commission:5}),l=t=>{const{name:r,value:n}=t.target;f(u=>({...u,[r]:n}))},D=async t=>{t.preventDefault();try{const r=await i.post("/group/add-group",a,{headers:{"Content-Type":"application/json"}});window.location.reload(),alert("Group Added Successfully"),c(!1),f({group_name:"",group_type:"",group_value:"",group_install:"",group_members:"",group_duration:"",start_date:"",end_date:"",minimum_bid:"",maximum_bid:"",commission:""})}catch(r){console.error("Error adding group:",r)}};d.useEffect(()=>{(async()=>{try{const r=await i.get("/group/get-group-admin");console.log(r);const n=r.data.filter(u=>u.group_method==="week");_(n)}catch(r){console.error("Error fetching group data:",r)}})()},[]);const j=N.filter(t=>t.group_name.toLowerCase().includes(h.toLowerCase())),S=async t=>{try{const r=await i.get(`/group/get-by-id-group/${t}`);p(r.data),x(!0)}catch(r){console.error("Error fetching group:",r)}},F=async t=>{try{const r=await i.get(`/group/get-by-id-group/${t}`),n=r.data,u=n.start_date.split("T")[0],U=n.end_date.split("T")[0];E(r.data),y({group_name:r.data.group_name,group_type:r.data.group_type,group_method:"week",group_value:r.data.group_value,group_install:r.data.group_install,group_members:r.data.group_members,group_duration:r.data.group_duration,start_date:u,end_date:U,minimum_bid:r.data.minimum_bid,maximum_bid:r.data.maximum_bid}),g(!0)}catch(r){console.error("Error fetching group:",r)}},o=t=>{const{name:r,value:n}=t.target;y(u=>({...u,[r]:n}))},M=async()=>{if(m)try{await i.delete(`/group/delete-group/${m._id}`),alert("Group deleted successfully"),x(!1),p(null),window.location.reload()}catch(t){console.error("Error deleting group:",t)}},q=async t=>{t.preventDefault();try{await i.put(`/group/update-group/${C._id}`,s),g(!1),alert("Group Updated Successfully"),window.location.reload()}catch(r){console.error("Error updating group:",r)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex mt-20",children:[e.jsx(T,{}),e.jsxs("div",{className:"flex-grow p-7",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Weekly Groups"}),e.jsx("div",{className:"mt-6 mb-8",children:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx("input",{type:"text",placeholder:"Search week groups...",className:"border border-gray-300 rounded px-6 py-2 shadow-sm outline-none w-full max-w-md",value:h,onChange:t=>w(t.target.value)}),e.jsx("button",{onClick:()=>c(!0),className:"ml-4 bg-blue-700 text-white px-4 py-2 rounded shadow-md hover:bg-blue-800 transition duration-200",children:"+ Add Week Group"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:j.length===0?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"No week groups added yet"})}):j.map(t=>e.jsxs("div",{className:"bg-white border border-gray-300 rounded-xl p-6 shadow-lg transform transition duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-700 text-center",children:t.group_name}),e.jsxs("div",{className:"flex gap-16 py-3",children:[e.jsxs("p",{className:"text-gray-500 mb-2 text-center",children:[e.jsx("span",{className:"font-medium text-gray-700 text-xl",children:t.group_members}),e.jsx("br",{}),e.jsx("span",{className:"font-bold text-sm",children:"Members"})]}),e.jsxs("p",{className:"text-gray-500 mb-4 text-center",children:[e.jsxs("span",{className:"font-medium text-gray-700 text-xl",children:["â‚¹",t.group_install]}),e.jsx("br",{}),e.jsx("span",{className:"font-bold text-sm",children:"Installment"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>F(t._id),className:"border border-green-400 text-white px-4 py-2 rounded-md shadow hover:border-green-700 transition duration-200",children:e.jsx(B,{color:"green"})}),e.jsx("button",{onClick:()=>S(t._id),className:"border border-red-400 text-white px-4 py-2 rounded-md shadow hover:border-red-700 transition duration-200",children:e.jsx(V,{color:"red"})})]})]},t.id))})]})]}),e.jsx(b,{isVisible:v,onClose:()=>c(!1),children:e.jsxs("div",{className:"py-6 px-5 lg:px-8 text-left",children:[e.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:"Add Week Group"}),e.jsxs("form",{className:"space-y-6",onSubmit:D,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"email",children:"Group Name"}),e.jsx("input",{type:"text",name:"group_name",value:a.group_name,onChange:l,id:"name",placeholder:"Enter the Group Name",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"category",children:"Group Type"}),e.jsxs("select",{name:"group_type",id:"category",value:a.group_type,onChange:l,required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5",children:[e.jsx("option",{value:"",children:"Select Group Type"}),e.jsx("option",{value:"divident",children:"Divident Auction"})]})]}),e.jsxs("div",{className:"flex flex-row justify-between space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Group Value"}),e.jsx("input",{type:"number",name:"group_value",value:a.group_value,onChange:l,id:"text",placeholder:"Enter Group Value",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Group Installment"}),e.jsx("input",{type:"number",name:"group_install",value:a.group_install,onChange:l,id:"text",placeholder:"Enter Group Installment",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]})]}),e.jsxs("div",{className:"flex flex-row justify-between space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Group Members"}),e.jsx("input",{type:"number",name:"group_members",value:a.group_members,onChange:l,id:"text",placeholder:"Enter Group Members",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Group Duration"}),e.jsx("input",{type:"number",name:"group_duration",value:a.group_duration,onChange:l,id:"text",placeholder:"Enter Group Duration",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]})]}),e.jsxs("div",{className:"flex flex-row justify-between space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Start Date"}),e.jsx("input",{type:"date",name:"start_date",value:a.start_date,onChange:l,id:"date",placeholder:"Enter the Date",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"End Date"}),e.jsx("input",{type:"date",name:"end_date",value:a.end_date,onChange:l,id:"date",placeholder:"Enter the Date",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]})]}),e.jsxs("div",{className:"flex flex-row justify-between space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Minimum Bid"}),e.jsx("input",{type:"number",name:"minimum_bid",value:a.minimum_bid,onChange:l,id:"text",placeholder:"Enter Minimum Bid",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Maximum Bid"}),e.jsx("input",{type:"number",name:"maximum_bid",value:a.maximum_bid,onChange:l,id:"text",placeholder:"Enter Maximum Bid",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]})]}),e.jsx("button",{type:"submit",className:`w-full text-white bg-blue-700 hover:bg-blue-800
              focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center`,children:"Add"})]})]})}),e.jsx(b,{isVisible:k,onClose:()=>g(!1),children:e.jsxs("div",{className:"py-6 px-5 lg:px-8 text-left",children:[e.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:"Update Week Group"}),e.jsxs("form",{className:"space-y-6",onSubmit:q,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"email",children:"Group Name"}),e.jsx("input",{type:"text",name:"group_name",value:s.group_name,onChange:o,id:"name",placeholder:"Enter the Group Name",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"category",children:"Group Type"}),e.jsxs("select",{name:"group_type",value:s.group_type||"",onChange:o,id:"category",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5",children:[e.jsx("option",{value:"",children:"Select Group Type"}),e.jsx("option",{value:"divident",children:"Dividend Auction"})]})]}),e.jsxs("div",{className:"flex flex-row justify-between space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Group Value"}),e.jsx("input",{type:"text",name:"group_value",value:s.group_value,onChange:o,id:"text",placeholder:"Enter Group Value",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Group Installment"}),e.jsx("input",{type:"text",name:"group_install",value:s.group_install,onChange:o,id:"text",placeholder:"Enter Group Installment",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]})]}),e.jsxs("div",{className:"flex flex-row justify-between space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Group Members"}),e.jsx("input",{type:"text",name:"group_members",value:s.group_members,onChange:o,id:"text",placeholder:"Enter Group Members",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Group Duration"}),e.jsx("input",{type:"text",name:"group_duration",value:s.group_duration,onChange:o,id:"text",placeholder:"Enter Group Duration",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]})]}),e.jsxs("div",{className:"flex flex-row justify-between space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Start Date"}),e.jsx("input",{type:"date",name:"start_date",value:s.start_date,onChange:o,id:"date",placeholder:"Enter the Date",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"End Date"}),e.jsx("input",{type:"date",name:"end_date",value:s.end_date,onChange:o,id:"date",placeholder:"Enter the Date",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]})]}),e.jsxs("div",{className:"flex flex-row justify-between space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Minimum Bid %"}),e.jsx("input",{type:"text",name:"minimum_bid",value:s.minimum_bid,onChange:o,id:"text",placeholder:"Enter Minimum Bid",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"date",children:"Maximum Bid %"}),e.jsx("input",{type:"text",name:"maximum_bid",value:s.maximum_bid,onChange:o,id:"text",placeholder:"Enter Maximum Bid",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]})]}),e.jsx("button",{type:"submit",className:`w-full text-white bg-blue-700 hover:bg-blue-800
              focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center`,children:"Update"})]})]})}),e.jsx(b,{isVisible:G,onClose:()=>{x(!1),p(null)},children:e.jsxs("div",{className:"py-6 px-5 lg:px-8 text-left",children:[e.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:"Delete Week Group"}),m&&e.jsxs("form",{onSubmit:t=>{t.preventDefault(),M()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-900",htmlFor:"groupName",children:["Please enter"," ",e.jsx("span",{className:"text-primary font-bold",children:m.group_name})," ","to confirm deletion."]}),e.jsx("input",{type:"text",id:"groupName",placeholder:"Enter the Group Name",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5"})]}),e.jsx("button",{type:"submit",className:`w-full text-white bg-red-700 hover:bg-red-800
          focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center`,children:"Delete"})]})]})})]})})};export{I as default};
